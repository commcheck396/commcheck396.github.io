---
layout: post
title: 'Tkinkerä¾¿ç­¾'
date: 2022-2-14
author: ä¸æ˜¾ç”µæ€§
cover: 'http://commcheck396.github.io/assets/img/2022_2_14/tkinker.png'
tags: Python GUI
---


### æˆ‘çœŸçš„ä¸æƒ³å­¦è‹±è¯­ï¼Œæ‰€ä»¥å°±æ¥å¡«å‘äº†  
åœ¨åšäººå·¥æ™ºèƒ½å¯¼è®ºä½œä¸šæ—¶åˆæ­¥æ¥è§¦tkinkerï¼Œä½†å½“æ—¶å¤§å¤šçš„æ“ä½œæ˜¯ç…§çŒ«ç”»è™ï¼Œå†™ä¸ªä¾¿ç­¾ï¼Œè®°å½•ä¸€ä¸‹ï¼Œé¡ºä¾¿ç³»ç»Ÿåœ°å­¦ä¹ å­¦ä¹ ã€‚

# çª—å£ä¸»ä½“æ¡†æ¶
æ¯ä¸€ä¸ª tkinter åº”ç”¨çš„ä¸»ä½“æ¡†æ¶éƒ½å¯ä»¥åŒ…å«ä¸‹é¢è¿™éƒ¨åˆ†. å®šä¹‰windowçª—å£ å’Œwindowçš„ä¸€äº›å±æ€§, ç„¶åä¹¦å†™çª—å£å†…å®¹, æœ€åæ‰§è¡Œ`window.mainloop`è®©çª—å£æ´»èµ·æ¥.  
é¦–å…ˆimport libraryï¼Œ`import tkinter as tk`ã€‚
```python
window = tk.Tk()
window.title('my window')
window.geometry('200x100')

# è¿™é‡Œæ˜¯çª—å£çš„å†…å®¹

window.mainloop()
```
## æ ‡ç­¾
```python 
l = tk.Label(window, 
    text='OMG! this is TK!',    # æ ‡ç­¾çš„æ–‡å­—
    bg='green',     # èƒŒæ™¯é¢œè‰²
    font=('Arial', 12),     # å­—ä½“å’Œå­—ä½“å¤§å°
    width=15, height=2  # æ ‡ç­¾é•¿å®½
    )
l.pack()    # å›ºå®šçª—å£ä½ç½®
```
åŒæ—¶ï¼Œåˆ©ç”¨å¦‚ä¸‹æ–¹å¼ä¹Ÿå¯ä»¥å®ç°çª—å£çš„æ–‡å­—å˜æ¢
```python
var = tk.StringVar()    # è¿™æ—¶æ–‡å­—å˜é‡å‚¨å­˜å™¨
l = tk.Label(window, 
    textvariable=var,   # ä½¿ç”¨ textvariable æ›¿æ¢ text, å› ä¸ºè¿™ä¸ªå¯ä»¥å˜åŒ–
    bg='green', font=('Arial', 12), width=15, height=2)
l.pack()

# ä¹Ÿå¯ä»¥è¿™æ ·
l = tk.Label(window, bg='yellow', width=20, text='empty')
def print_selection():
    l.config(text='you have selected ' + var.get()) # æ¯æ¬¡è°ƒç”¨è¯¥åŠŸèƒ½æ ‡ç­¾ä¸­çš„æ–‡å­—éƒ½ä¼šæ”¹å˜

```
## æŒ‰é’®
```python
b = tk.Button(window, 
    text='hit me',      # æ˜¾ç¤ºåœ¨æŒ‰é’®ä¸Šçš„æ–‡å­—
    width=15, height=2, 
    command=hit_me)     # ç‚¹å‡»æŒ‰é’®å¼æ‰§è¡Œçš„å‘½ä»¤ï¼ŒæŒ‰é’®è¢«ç‚¹å‡»å³æ‰§è¡Œhit_meåŠŸèƒ½
b.pack()    # æŒ‰é’®ä½ç½®

def hit_me():
    # function 
```

## è¾“å…¥æ¡†
```python
e = tk.Entry(window,show='*') # ç”¨æˆ·è¾“å…¥ä»»ä½•å†…å®¹éƒ½æ˜¾ç¤ºä¸º*
e.pack()

# åˆ©ç”¨e.getï¼ˆï¼‰å¯ä»¥è·å–å½“å‰è¾“å…¥æ¡†ä¸­çš„æ–‡å­—
var = e.get()
```
## æ˜¾ç¤ºæ¡†
```python
t = tk.Text(window,height=2)
t.pack()

# åˆ©ç”¨t.insert()å¯ä»¥å®ç°å¯¹æ˜¾ç¤ºæ¡†ä¸­çš„å†…å®¹è¿›è¡Œæ”¹å˜
t.insert('insert',var) # å°†varå¯¹åº”çš„å†…å®¹æ’å…¥å½“å‰å…‰æ ‡çš„ä½ç½®
t.insert('end',var) # å°†varå¯¹åº”çš„å†…å®¹æ’å…¥æ˜¾ç¤ºæ¡†å°¾éƒ¨
```

## Listbox
~~ç”¨å¤„ä¸å¤§~~
```python
var2 = tk.StringVar()
var2.set((11,22,33,44)) #ä¸ºå˜é‡è®¾ç½®å€¼

#åˆ›å»ºListbox

lb = tk.Listbox(window, listvariable=var2)  #å°†var2çš„å€¼èµ‹ç»™Listbox

#åˆ›å»ºä¸€ä¸ªlistå¹¶å°†å€¼å¾ªç¯æ·»åŠ åˆ°Listboxæ§ä»¶ä¸­
list_items = [1,2,3,4]
for item in list_items:
    lb.insert('end', item)  #ä»æœ€åä¸€ä¸ªä½ç½®å¼€å§‹åŠ å…¥å€¼
lb.insert(1, 'first')       #åœ¨ç¬¬ä¸€ä¸ªä½ç½®åŠ å…¥'first'å­—ç¬¦
lb.insert(2, 'second')      #åœ¨ç¬¬äºŒä¸ªä½ç½®åŠ å…¥'second'å­—ç¬¦
lb.delete(2)                #åˆ é™¤ç¬¬äºŒä¸ªä½ç½®çš„å­—ç¬¦
lb.pack()

# å¯ä»¥åˆ©ç”¨å¦‚ä¸‹è¯­å¥è·å–å½“å‰é€‰ä¸­çš„æ–‡æœ¬
value = lb.get(lb.curselection()) # è·å–å½“å‰é€‰ä¸­çš„æ–‡æœ¬
```

## é€‰æ‹©æŒ‰é’®
```python
def print_selection():
    l.config(text='you have selected ' + var.get())

r1 = tk.Radiobutton(window, text='Option A',
                    variable=var, value='A',
                    command=print_selection)
r1.pack()
r2 = tk.Radiobutton(window, text='Option B',
                    variable=var, value='B',
                    command=print_selection)
r2.pack()
r3 = tk.Radiobutton(window, text='Option C',
                    variable=var, value='C',
                    command=print_selection)
r3.pack()

# å…¶ä¸­variable=var, value='A'çš„æ„æ€å°±æ˜¯ï¼Œå½“æˆ‘ä»¬é¼ æ ‡é€‰ä¸­äº†å…¶ä¸­ä¸€ä¸ªé€‰é¡¹ï¼ŒæŠŠvalueçš„å€¼Aæ”¾åˆ°å˜é‡varä¸­ï¼Œç„¶åèµ‹å€¼ç»™variableï¼Œå†æ‰§è¡Œvar.get()å³å¯è·å¾—é€‰å®šé€‰é¡¹çš„valueã€‚
```

## Scale
æˆ‘çš„æœ€çˆ±ï¼
```python
# Sacleçš„åˆå§‹åŒ–
s = tk.Scale(window, label='try me', from_=5, to=11, orient=tk.HORIZONTAL,
             length=200, showvalue=0, tickinterval=2, resolution=0.01, command=function)
             # å‚æ•°ä¸å¿…å¤šä»‹ç»ï¼Œè€ç—›è‹¦å›å¿†äº†
s.pack()
```
åœ¨è¿™é‡Œè¦å¼ºè°ƒä¸€ä¸‹scaleä¸­çš„commandï¼Œä»–æœ‰ä¸€ä¸ªéå¸¸ç‰›é€¼çš„ç‚¹ï¼Œä»–ä¼šè‡ªåŠ¨ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥å“‰å®šä¹‰å…¶å¯¹åº”çš„functionæ—¶è¦æ³¨æ„åŠ ä¸Šè¯¥å‚æ•°ã€‚  
è¿™é‡Œä¼ å…¥çš„å‚æ•°æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¸æ˜¯åˆ«çš„ï¼Œæ­£æ˜¯å½“å‰scaleå¯¹åº”çš„å–å€¼ï¼Œæ‰€ä»¥è¦è·å¾—scaleä¸Šçš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•
```python
s = tk.Scale(window, label='try me', from_=5, to=11, orient=tk.HORIZONTAL,
             length=200, showvalue=0, tickinterval=2, resolution=0.01, command=function)
s.pack()
def function(vv):
    v=vv
    print(v)
# è¿™æ ·ä¾¿å¯ä»¥éšæ»‘å—çš„æ»‘åŠ¨æ”¹å˜vçš„å–å€¼äº†
```

## å‹¾é€‰é¡¹
```python
var1 = tk.IntVar()
c1 = tk.Checkbutton(window, text='Python', variable=var1, onvalue=1, offvalue=0,
                    command=print_selection)
c1.pack()
# å‚æ•°onvalueå’Œå‰é¢è®²çš„éƒ¨ä»¶radiobuttonä¸­çš„valueç›¸ä¼¼ï¼Œ å½“æˆ‘ä»¬é€‰ä¸­äº†è¿™ä¸ªcheckbuttonï¼Œonvalueçš„å€¼1å°±ä¼šæ”¾å…¥åˆ°var1ä¸­ï¼Œ ç„¶åvar1å°†å…¶èµ‹å€¼ç»™å‚æ•°variableï¼Œoffvalueç”¨æ³•ç›¸ä¼¼ï¼Œä½†æ˜¯offvalueæ˜¯åœ¨æ²¡æœ‰é€‰ä¸­è¿™ä¸ªcheckbuttonæ—¶ï¼Œoffvalueçš„å€¼1æ”¾å…¥var1.

def print_selection():
    if (var1.get() == 1) & (var2.get() == 0):   #å¦‚æœé€‰ä¸­ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œæœªé€‰ä¸­ç¬¬äºŒä¸ªé€‰é¡¹
        l.config(text='I love only Python ')
    elif (var1.get() == 0) & (var2.get() == 1): #å¦‚æœé€‰ä¸­ç¬¬äºŒä¸ªé€‰é¡¹ï¼Œæœªé€‰ä¸­ç¬¬ä¸€ä¸ªé€‰é¡¹
        l.config(text='I love only C++')
    elif (var1.get() == 0) & (var2.get() == 0):  #å¦‚æœä¸¤ä¸ªé€‰é¡¹éƒ½æœªé€‰ä¸­
        l.config(text='I do not love either')
    else:
        l.config(text='I love both')             #å¦‚æœä¸¤ä¸ªé€‰é¡¹éƒ½é€‰ä¸­
# å¯ä»¥é€šè¿‡if-elseè¯­å¥å®ç°ä¸åŒçš„ç»„åˆåŠŸèƒ½
```

## Canvas
~~ç”»æ£‹ç›˜~~  
æ’å…¥å›¾ç‰‡
```python
image_file = tk.PhotoImage(file='ins.gif') # åˆ›é€ ä¸€ä¸ªå˜é‡å­˜æ”¾ins.gifè¿™å¼ å›¾ç‰‡,æ³¨æ„å›¾ç‰‡è¦å­˜æ”¾åœ¨æ ¹ç›®å½•
image = canvas.create_image(10, 10, anchor='nw', image=image_file)  # å‚æ•°10,10å°±æ˜¯å›¾ç‰‡æ”¾å…¥ç”»å¸ƒçš„åæ ‡ï¼Œ è€Œè¿™é‡Œçš„anchor=nwåˆ™æ˜¯æŠŠå›¾ç‰‡çš„å·¦ä¸Šè§’ä½œä¸ºé”šå®šç‚¹ï¼Œåœ¨åŠ ä¸Šåˆšåˆšç»™çš„åæ ‡ä½ç½®ï¼Œå³å¯å°†å›¾ç‰‡ä½ç½®ç¡®å®šã€‚
```

ç”»å‡ ä½•å›¾æ¡ˆ
```python
x0, y0, x1, y1= 50, 50, 80, 80

# ç”»ç›´çº¿ï¼Œä»x0,y0åˆ°x1,y1
line = canvas.create_line(x0, y0, x1, y1)

#åˆ›å»ºä¸€ä¸ªåœ†ï¼Œå¡«å……è‰²ä¸º`red`çº¢è‰²
oval = canvas.create_oval(x0, y0, x1, y1, fill='red')  

#åˆ›å»ºä¸€ä¸ªæ‰‡å½¢,start=0å’Œextent=180å…¶å®å°±æ˜¯ä»0åº¦åˆ°180åº¦
arc = canvas.create_arc(x0+30, y0+30, x1+30, y1+30, start=0, extent=180)  

#åˆ›å»ºä¸€ä¸ªçŸ©å½¢ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ç”¨fillå‚æ•°è¿›è¡Œå¡«å……ï¼Œåœ¨è¿™é‡Œä¸åšæ¼”ç¤º
rect = canvas.create_rectangle(100, 30, 100+20, 30+20)  


```
ç§»åŠ¨å›¾å½¢
```python
canvas.move(rect, 0, 2)
# å‚æ•°(rect,0,2)å°±æ˜¯ç§»åŠ¨rectè¿™ä¸ªå˜é‡ï¼Œå³æˆ‘ä»¬çœ‹åˆ°çš„çŸ©å½¢,åé¢çš„0å’Œ2ï¼Œä¹Ÿå°±æ˜¯æ¨ªåæ ‡ç§»åŠ¨0ä¸ªå•ä½ï¼Œçºµåæ ‡ç§»åŠ¨2ä¸ªå•ä½
```

## Menubar
~~å»ºèœå•æ ï¼Œæˆ‘è¿™è¾ˆå­åº”è¯¥æ˜¯ç”¨ä¸ä¸Šè¿™ä¸ªåŠŸèƒ½~~
```python
menubar = tk.Menu(window) # å»ºç«‹èœå•æ å¯¹è±¡ï¼ˆèœå•æ æŒ‡å­˜æ”¾èœå•çš„é‚£ä¸ªæ¡†æ¡†ï¼‰

filemenu = tk.Menu(menubar, tearoff=0) # å®šä¹‰ä¸€ä¸ªç©ºèœå•å•å…ƒ

menubar.add_cascade(label='File', menu=filemenu) # å°†ä¸Šé¢å®šä¹‰çš„ç©ºèœå•å‘½åä¸º`File`ï¼Œæ”¾åœ¨èœå•æ ä¸­

filemenu.add_command(label='New', command=do_job) # åœ¨`File`ä¸­åŠ å…¥`New`çš„å°èœå•ï¼Œå³æˆ‘ä»¬å¹³æ—¶çœ‹åˆ°çš„ä¸‹æ‹‰èœå•ï¼Œæ¯ä¸€ä¸ªå°èœå•å¯¹åº”å‘½ä»¤æ“ä½œã€‚å¦‚æœç‚¹å‡»è¿™äº›å•å…ƒ, å°±ä¼šè§¦å‘`do_job`çš„åŠŸèƒ½

filemenu.add_separator()##è¿™é‡Œå°±æ˜¯ä¸€æ¡åˆ†å‰²çº¿

filemenu.add_command(label='Exit', command=window.quit) # quitåŠŸèƒ½


# å»ºç«‹äºŒçº§èœå•
submenu = tk.Menu(filemenu) # å’Œä¸Šé¢å®šä¹‰èœå•ä¸€æ ·ï¼Œä¸è¿‡æ­¤å¤„æ˜¯åœ¨`File`ä¸Šåˆ›å»ºä¸€ä¸ªç©ºçš„èœå•

filemenu.add_cascade(label='Import', menu=submenu, underline=0) # ç»™æ”¾å…¥çš„èœå•`submenu`å‘½åä¸º`Import`

submenu.add_command(label="Submenu1", command=do_job)##è¿™é‡Œå’Œä¸Šé¢ä¹Ÿä¸€æ ·ï¼Œåœ¨`Import`ä¸­åŠ å…¥ä¸€ä¸ªå°èœå•å‘½ä»¤`Submenu1`
```

## ä¸åŒçš„æ”¾ç½®æ–¹å¼

### pack
```python
tk.Label(window, text='1').pack(side='top')#ä¸Š
tk.Label(window, text='1').pack(side='bottom')#ä¸‹
tk.Label(window, text='1').pack(side='left')#å·¦
tk.Label(window, text='1').pack(side='right')#å³
```

### grid
```python
tk.Label(window, text=1).grid(row=i, column=j, padx=10, pady=10)
# ä»¥è¡¨æ ¼æ ¼å¼æ”¾ç½®ï¼Œpadxå°±æ˜¯å•å…ƒæ ¼å·¦å³é—´è·ï¼Œpadyå°±æ˜¯å•å…ƒæ ¼ä¸Šä¸‹é—´è·,æ”¾åœ¨è¡¨æ ¼çš„(i,j)ä½ç½®
```

### place
```python
tk.Label(window, text=1).place(x=20, y=10, anchor='nw')
# åˆ©ç”¨ç²¾ç¡®åæ ‡å®šä½ï¼Œanchorä¸ºé”šç‚¹
```

ğŸ˜å‘¢